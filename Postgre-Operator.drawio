<mxfile host="app.diagrams.net" modified="2020-09-23T07:32:18.651Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36" etag="F71CEgg-y-q-6nQlSNRs" version="13.7.3" type="github" pages="7">
  <diagram id="e6y-2lSQlXqC9P7j0iec" name="Cluster-APIServer">
    <mxGraphModel dx="5688" dy="3176" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="7w1u605gqGHNuReGMgkZ-7" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="fJSiDYDz8LOzyxK8Tw9L-40" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2667.7100000000005" y="140" as="sourcePoint" />
            <mxPoint x="2667.7100000000005" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lLvjYXcaRu5LYzyhH6YC-6" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2236.0000000000005" y="120" as="sourcePoint" />
            <mxPoint x="2236.0000000000005" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-3" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2456" y="130" as="sourcePoint" />
            <mxPoint x="2455.82" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-2" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1802.3500000000001" y="110" as="sourcePoint" />
            <mxPoint x="1798" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lLvjYXcaRu5LYzyhH6YC-4" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1609.17" y="120" as="sourcePoint" />
            <mxPoint x="1609.17" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lLvjYXcaRu5LYzyhH6YC-3" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="989.1699999999998" y="100" as="sourcePoint" />
            <mxPoint x="989.1699999999998" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-2" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="fJSiDYDz8LOzyxK8Tw9L-23" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.71" y="120" as="sourcePoint" />
            <mxPoint x="1189.71" y="3860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-57" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="319.40999999999997" y="100" as="sourcePoint" />
            <mxPoint x="319.40999999999997" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-56" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="519.17" y="80" as="sourcePoint" />
            <mxPoint x="519.17" y="3820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-3" value="API URL路由分发，目前有暴露64个接口" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="170" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-6" value="CreateClusterHandler" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="260" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-7" value="AuthCheck" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-8" value="Check Client &amp;amp; Server Version Match" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-9" value="CreateCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-11" value="Response Return" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-13" value="CreateCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-14" value="ClusterName Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-15" value="ReplicaCount Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-16" value="UserLable 参数提取" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-17" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;validateDataSourceParms&lt;/pre&gt;数据源参数检查&lt;br&gt;restoreFrom&lt;br&gt;retoreOption" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-20" value="检查PVC Size是否合法&lt;br&gt;Primary/Replica PVC&lt;br&gt;BackRest PVC&lt;br&gt;WAL PVC" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="555" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-21" value="检查CPU Mem参数Request Limit是否合法" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="660" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-22" value="BackuRest的CPU和Mem参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="750" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-23" value="PgBouncer的CPU和Mem参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="850" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-24" value="request.Tablespaces参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="950" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-25" value="集群TLS参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1040" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-26" value="用户参数组检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1140" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-27" value="Metric标记设置" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1230" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-28" value="ServiceType检查&lt;br&gt;Defualt/LoadBalance/NodePort" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1310" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-29" value="灾备实例参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1400" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-30" value="BackRest存储类型检查&lt;br&gt;S3/Local" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1490" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-31" value="BackRest存储类型检查&lt;br&gt;S3/Local" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1580" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-32" value="BackRest StorageConfig&lt;br&gt;检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1660" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-33" value="是否有缺省参数组，有设置" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1750" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-34" value="主StorageConfig检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1840" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-35" value="WAL Size和StorageConfig加查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1930" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-36" value="NodeLabe检查及提取" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2030" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-37" value="NodeLabe检查及提取" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2130" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-38" value="从StorageConfig检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2230" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-39" value="PgBouncer安装及replica&lt;br&gt;参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2330" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-40" value="Pod AntiAffinity参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2430" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-41" value="PgBouncer Pod AntiAffinity参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2530" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-42" value="主从同步复制参数加查及&lt;br&gt;标签设置" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2630" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-43" value="BackRestS3URIStyle检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2720" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-44" value="开始准备CRD instance" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2820" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-45" value="SecretFrom参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="2923" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-46" value="Policies参数检查" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3030" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-47" value="创建超级用户Secret" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3130" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-48" value="创建Replication用户Secret" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3230" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-49" value="创建default User用户Secret" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3330" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-50" value="创建collect User用户Secret" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3420" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-51" value="创建BackRest的S3和SSH的Secret" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3520" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-52" value="为新cluster创建workflow &lt;b&gt;pgtask&lt;/b&gt;，id作为response参数返回" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3620" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-53" value="为集群创建CRD&lt;br&gt;pgcluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="3720" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-54" value="return" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="475" y="3820" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-58" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;" parent="1" source="yWhdLjkU5JAQqWD6CEfC-55" target="yWhdLjkU5JAQqWD6CEfC-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-55" value="&lt;span&gt;API Router&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-59" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="yWhdLjkU5JAQqWD6CEfC-9" target="yWhdLjkU5JAQqWD6CEfC-13" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="200" as="sourcePoint" />
            <mxPoint x="250" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yWhdLjkU5JAQqWD6CEfC-62" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="320" y="-200" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="2" value="API Server" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="295" y="10" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-2" value="&lt;font color=&quot;#000000&quot;&gt;API Server&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="750" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-3" value="&lt;font color=&quot;#000000&quot;&gt;UpdateClusterHandler&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="930" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-4" value="AuthCheck" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-5" value="Check Client &amp;amp; Server Version Match" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-6" value="UpdateCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-7" value="Response Return" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-8" value="UpdateCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-9" value="Startup/Shutdown Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-10" value="Requst CPU Limte Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-11" value="Request Mem Limte Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-12" value="Request BackrestCpu Request Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-13" value="Request BackrestMem Request Validate" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-15" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;获取要修改的cluster列表&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1130" y="740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-16" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;修改pgcluster的AutoFail&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1130" y="830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-17" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;修改&lt;br&gt;cluster.spec.Standby&lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1130" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-20" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;修改&lt;br&gt;Startup&lt;br&gt;Shutdown&lt;br&gt;Resources-limits/request&lt;br&gt;CPULimit&lt;br&gt;CPURequest&lt;br&gt;MemLimit&lt;br&gt;MemRequest&lt;br&gt;BackrestResources:&lt;br&gt;BackrestLimits&lt;br&gt;BackrestResources&lt;br&gt;BackuRestCpu R/L&lt;br&gt;BackRestMem R/L&lt;br&gt;TableSpace&lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1120" y="1015" width="130" height="255" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-21" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;kubeapi修改cluster.spec&lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1125" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="i99rFXXE6MLXXWbWUxIi-14" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;Tablespaces Validate&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1130" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-4" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1050" y="390" as="sourcePoint" />
            <mxPoint x="1130" y="110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-5" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="i99rFXXE6MLXXWbWUxIi-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="880" y="110" as="sourcePoint" />
            <mxPoint x="930" y="109.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-6" value="&lt;font color=&quot;#000000&quot;&gt;API Server&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1360" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-7" value="&lt;font color=&quot;#000000&quot;&gt;ScaleClusterHandler&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1550" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-8" value="&lt;font color=&quot;#000000&quot;&gt;ScaleCluster&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-9" value="&lt;font color=&quot;#000000&quot;&gt;从URL获取参数&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1550" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-10" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(248 , 249 , 250)&quot;&gt;AuthCheck&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1550" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-11" value="Check Client &amp;amp; Server Version Match" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1550" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-12" value="ScaleCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1550" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-13" value="Response Return" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1550" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-14" value="&lt;font color=&quot;#000000&quot;&gt;参数检查&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-15" value="&lt;font color=&quot;#000000&quot;&gt;检查当前cluster是否有update到Operator匹配verison，如果没有失败&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-16" value="&lt;font color=&quot;#000000&quot;&gt;准备pgreplica spec&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-17" value="&lt;font color=&quot;#000000&quot;&gt;获取扩展的rc值，循环&amp;nbsp;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-18" value="&lt;font color=&quot;#000000&quot;&gt;修改不同replica的名字及标签&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-21" value="&lt;font color=&quot;#000000&quot;&gt;发送到KubeAPI，创建pgreplica CRD&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1740" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-22" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="fJSiDYDz8LOzyxK8Tw9L-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1659.9999999999998" y="400.0000000000001" as="sourcePoint" />
            <mxPoint x="1740" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-23" value="return" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1140" y="1402.5" width="90" height="55" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-24" value="return" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1755" y="775" width="90" height="55" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-25" value="&lt;font color=&quot;#000000&quot;&gt;ScaleDownHandler&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2176" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-26" value="&lt;font color=&quot;#000000&quot;&gt;从URL获取参数&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2176" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-27" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(248 , 249 , 250)&quot;&gt;AuthCheck&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2176" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-28" value="Check Client &amp;amp; Server Version Match" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2176" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-29" value="ScaleDown" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2176" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-30" value="Response Return" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2176" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-31" value="ScaleDown" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2398" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-32" value="&lt;font color=&quot;#000000&quot;&gt;检查cluster是否存在&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2398" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-33" value="&lt;font color=&quot;#000000&quot;&gt;检查cluster是否shutdown&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2398" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-34" value="&lt;font color=&quot;#000000&quot;&gt;获取pod list&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2398" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-35" value="&lt;font color=&quot;#000000&quot;&gt;pod list中是否有要scaledown的pod&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2398" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-36" value="&lt;font color=&quot;#000000&quot;&gt;创建rmdate task来清理&lt;br&gt;&lt;/font&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;CreateRMDataTask&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2398" y="550" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-37" value="CreateRMDataTask" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2608" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-38" value="&lt;font color=&quot;#000000&quot;&gt;Return&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;rounded=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2413" y="660" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-39" value="&lt;font color=&quot;#000000&quot;&gt;准备pgtask Spec&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2608" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-40" value="&lt;font color=&quot;#000000&quot;&gt;kubeAPI 创建pgtask&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="2608" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fJSiDYDz8LOzyxK8Tw9L-41" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" target="fJSiDYDz8LOzyxK8Tw9L-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2518" y="580" as="sourcePoint" />
            <mxPoint x="2588" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-5" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1490" y="110.16" as="sourcePoint" />
            <mxPoint x="1550" y="109.66" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-6" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0.008;entryY=0.599;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;" parent="1" source="fJSiDYDz8LOzyxK8Tw9L-29" target="fJSiDYDz8LOzyxK8Tw9L-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1848" y="489.9999999999999" as="sourcePoint" />
            <mxPoint x="1918" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-8" value="&lt;font color=&quot;#000000&quot;&gt;API Server&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1980" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-9" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2110" y="110.15999999999985" as="sourcePoint" />
            <mxPoint x="2170" y="109.65999999999985" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-10" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="995" y="-190" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-11" value="API Server" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="970" y="20" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-15" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="1595" y="-190" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-16" value="API Server" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="1570" y="20" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-17" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="2335" y="-200" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-18" value="API Server" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="2310" y="10" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-19" value="&lt;font color=&quot;#000000&quot;&gt;API Server&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="740" y="1790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-20" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="870" y="1820.1599999999999" as="sourcePoint" />
            <mxPoint x="930" y="1819.6599999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-21" value="&lt;pre style=&quot;background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: menlo; font-size: 15px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 198, 109); font-size: 15px;&quot;&gt;DeleteClusterHandler&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;align=center;fontStyle=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="930" y="1790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-22" value="AuthCheck" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="1990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-23" value="从请求报文中获取参数" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="1890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-24" value="准备返回参数" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="2090" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-26" value="Check Client &amp;amp; Server Version Match" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="2190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-27" value="DeleteCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="2290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-28" value="return" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="945" y="2380" width="90" height="55" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-29" value="DeleteCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="1790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-30" value="name or selector&lt;br&gt;获取cluster 列表" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1125" y="1890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-31" value="cluster是否是upgraded？是 退出" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1125" y="1990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-32" value="首先把所有已经存在的xxx-rmdata任务删除&lt;br&gt;Deletepgtask" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1125" y="2089" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-33" value="CreateRMDataTask&lt;br&gt;创建&lt;span style=&quot;color: rgb(152 , 118 , 170) ; font-style: italic ; background-color: rgb(43 , 43 , 43) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;PgtaskDeleteData&amp;nbsp;&lt;br&gt;task&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1125" y="2190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-34" value="" style="curved=1;endArrow=classic;html=1;exitX=0;exitY=0.611;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="7w1u605gqGHNuReGMgkZ-35" target="7w1u605gqGHNuReGMgkZ-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1090" y="2281.3333333333335" as="sourcePoint" />
            <mxPoint x="1130" y="1970" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1090" y="2010" />
              <mxPoint x="1080" y="1970" />
              <mxPoint x="1125" y="1990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-36" value="循环" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7w1u605gqGHNuReGMgkZ-34" vertex="1" connectable="0">
          <mxGeometry x="0.8413" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-35" value="收集错误信息" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1125" y="2290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-37" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="980" y="1510" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="7w1u605gqGHNuReGMgkZ-38" value="API Server" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="955" y="1720" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;UpdateClusterHandler&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="1790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-3" value="&lt;font color=&quot;#000000&quot;&gt;API Server&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="1" vertex="1">
          <mxGeometry x="1340" y="1790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-4" value="从请求报文中获取参数" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="1889" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-5" value="AuthCheck" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="1989" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-6" value="准备返回参数" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="2089" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-7" value="Check Client &amp;amp; Server Version Match" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="2189" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-8" value="UpdateCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1510" y="2289" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-9" value="UpdateCluster" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1710" y="1790" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-10" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="7w1u605gqGHNuReGMgkZ-27" target="7w1u605gqGHNuReGMgkZ-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="2090" as="sourcePoint" />
            <mxPoint x="2000" y="2040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-11" value="return" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1525" y="2380" width="90" height="55" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-12" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="eULdPivSgUm90FJHOyYH-8" target="eULdPivSgUm90FJHOyYH-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="2090" as="sourcePoint" />
            <mxPoint x="2000" y="2040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-13" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="1575" y="1514" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-14" value="API Server" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="1550" y="1724" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-15" value="参数合理性检查&lt;br&gt;Startup&lt;br&gt;Shutdown&lt;br&gt;CPU/Memory Value&lt;br&gt;pgBackRest CPU/Mem" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1710" y="1889" width="130" height="151" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-16" value="根据参数获取cluster列表" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2070" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-17" value="处理Autofail，修改pgcluster的lable" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-18" value="处理Standby，修改pgcluster的spec.standby" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2249" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-19" value="处理Standby，修改pgcluster的spec.standby" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-20" value="处理Startup，修改pgcluster的spec.Shutdown" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-21" value="处理CPU &amp;amp; Mem Limit&lt;br&gt;，修改pgcluster的spec.Limits" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-22" value="处理CPU &amp;amp; Mem Request&lt;br&gt;，修改pgcluster的spec.Resource" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-23" value="处理backrest CPU &amp;amp; Mem Limit&lt;br&gt;，修改pgcluster的spec.BackrestLimits" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2690" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-24" value="处理backrest CPU &amp;amp; Mem Requst&lt;br&gt;，修改pgcluster的spec.BackrestResources" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-25" value="处理Tablespaces,&lt;br&gt;修改spec.TablespaceMounts" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2870" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-26" value="调用kubeapi.Updatepgcluter修改到etcd里面" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1715" y="2970" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-27" value="" style="curved=1;endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1710" y="3080" as="sourcePoint" />
            <mxPoint x="1715" y="2161.67" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1680" y="2181.67" />
              <mxPoint x="1670" y="2141.67" />
              <mxPoint x="1715" y="2161.67" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-28" value="循环" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="eULdPivSgUm90FJHOyYH-27" vertex="1" connectable="0">
          <mxGeometry x="0.8413" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eULdPivSgUm90FJHOyYH-29" value="记录修改过的cluster到Results" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1710" y="3060" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="2LHnsUQI_TxQHrFFFeV_" name="Operator Arch">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-0" />
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-1" parent="5SKbVsiYGQw5b-h0bSiV-0" />
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-16" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="5SKbVsiYGQw5b-h0bSiV-1" source="5SKbVsiYGQw5b-h0bSiV-18" target="5SKbVsiYGQw5b-h0bSiV-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="530" as="sourcePoint" />
            <mxPoint x="920" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-2" value="pgtaskController" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="250" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-3" value="pgclusterController" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="440" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-4" value="pgreplicaController" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="630" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-5" value="pgpolicyController" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="820" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-6" value="podControl&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22pgpolicyController%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BstrokeWidth%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22390%22%20y%3D%22340%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;ler" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="1000" y="530" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-7" value="jobControl&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22pgpolicyController%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BstrokeWidth%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22390%22%20y%3D%22340%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;ler" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="1170" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-8" value="&lt;span&gt;onAdd&lt;/span&gt;&lt;br&gt;&lt;span&gt;onUpdate&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span&gt;onDelete&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=left;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="270" y="610" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-9" value="&lt;span&gt;onAdd&lt;/span&gt;&lt;br&gt;&lt;span&gt;onUpdate&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span&gt;onDelete&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;RunWorker&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=left;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="470" y="610" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-10" value="&lt;span&gt;onAdd&lt;/span&gt;&lt;br&gt;&lt;span&gt;onUpdate&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span&gt;onDelete&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=left;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="660" y="610" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-11" value="&lt;span&gt;onAdd&lt;/span&gt;&lt;br&gt;&lt;span&gt;onUpdate&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span&gt;onDelete&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=left;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="850" y="610" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-12" value="&lt;span&gt;onAdd&lt;/span&gt;&lt;br&gt;&lt;span&gt;onUpdate&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span&gt;onDelete&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=left;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="1027" y="610" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-13" value="&lt;span&gt;onAdd&lt;/span&gt;&lt;br&gt;&lt;span&gt;onUpdate&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span&gt;onDelete&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=left;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="1195" y="610" width="70" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-14" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;addControllerGroup&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="720" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-15" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;strokeWidth=1;rotation=90;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="769.93" y="2.5" width="20" height="980" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-17" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;NewControllerManager&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="720" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-18" value="Main" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="720" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5SKbVsiYGQw5b-h0bSiV-19" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;controllerManager.AddGroup&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="5SKbVsiYGQw5b-h0bSiV-1" vertex="1">
          <mxGeometry x="720.0000000000001" y="260" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="xMILbbspwZ0wlmzrvvVz" name="pgcluster Operator">
    <mxGraphModel dx="2222" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Tet4A5Ykn7ojSv5wKa61-0" />
        <mxCell id="Tet4A5Ykn7ojSv5wKa61-1" parent="Tet4A5Ykn7ojSv5wKa61-0" />
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-38" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="hlfeTQx6_Cnpnqpu5m7U-34">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="2160" as="sourcePoint" />
            <mxPoint x="970" y="2951.176470588235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-31" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="1340" as="sourcePoint" />
            <mxPoint x="720" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-21" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.008;entryY=0.617;entryDx=0;entryDy=0;entryPerimeter=0;edgeStyle=orthogonalEdgeStyle;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-23" target="0Dtra9Rd_sB84bFZ9sfG-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="1520" as="sourcePoint" />
            <mxPoint x="450" y="1470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="530" y="1290" />
              <mxPoint x="530" y="1637" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-42" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0.461;exitY=1.006;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.44;entryY=0.017;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="121.31999999999994" y="2310.3599999999997" as="sourcePoint" />
            <mxPoint x="118.79999999999995" y="2451.19" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-26" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="hlfeTQx6_Cnpnqpu5m7U-23" target="hlfeTQx6_Cnpnqpu5m7U-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="2560" as="sourcePoint" />
            <mxPoint x="440" y="2510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-4" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-11" target="0Dtra9Rd_sB84bFZ9sfG-18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="730" y="1480" as="sourcePoint" />
            <mxPoint x="570" y="1600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-3" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-13" target="0Dtra9Rd_sB84bFZ9sfG-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="730" y="1480" as="sourcePoint" />
            <mxPoint x="780" y="1430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-2" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-4" target="0Dtra9Rd_sB84bFZ9sfG-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="730" y="780" as="sourcePoint" />
            <mxPoint x="520" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-2" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-12" target="WuodhJGJsOka3TGEAUCe-49" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="770" as="sourcePoint" />
            <mxPoint x="1010" y="720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="980" y="510" />
              <mxPoint x="980" y="1330" />
              <mxPoint x="1460" y="1330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-1" value="获取cluster，查看状态如果为 processed不处理" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-2" value="将cluster obj放入队列" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-3" value="onAdd" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-4" value="onDelete" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="450" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-5" value="onUpdate" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-6" value="RunWorker" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="850" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-7" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;waitForShutdown&lt;/span&gt;&lt;/pre&gt;判定是否接受到stop信号，是则标记退出" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="850" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-8" value="&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;processNextItem&lt;br&gt;&lt;/span&gt;循环处理新增的Item" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="850" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2" value="&lt;div&gt;RunWorker是一个长时间运行的函数，它将连续调用&lt;/div&gt;&lt;div&gt;processNextWorkItem函数用于读取和处理消息&lt;span&gt;工作队列。&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="745" y="180" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-9" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;processNextItem&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-10" value="检查是否标记退出，是则退出循环" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-11" value="判定pgcluster相关的Deployment是否已经创建，是则退出不处理；" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="412" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-12" value="判定pgcluster是否已经创建，否，则退出不处理；重试" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-15" target="WuodhJGJsOka3TGEAUCe-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-53" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="OV9-m6dmQ-1NdaY5KtbN-7">
          <mxGeometry x="-0.2727" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-15" value="RestoreFrom！=“”&lt;br&gt;是备份恢复" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="740" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-16" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;AddBootstrapRepo&lt;/span&gt;&lt;/pre&gt;创建BackRestRepo的Deployment" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-17" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;AddBootstrapRepo&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1250" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-18" value="判定restoreFrom的cluster的BackRest是否创建" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1250" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-19" value="&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;CreateRepoDeployment&lt;br&gt;&lt;/span&gt;创建Repo Deployment" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1250" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-20" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;AddClusterBootstrap&lt;/pre&gt;处理bootstrapping" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-21" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;AddClusterBootstrap&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1520" y="235" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-22" value="创建PGHAConfigMap" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1520" y="335" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-23" value="&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#ffd966&quot;&gt;CreateMissingPostgreSQLVolumes&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;创建pvc dataVolume walVolume tablespaceVolume&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1520" y="425" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-24" value="添加BootstrapJob&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;addClusterBootstrapJob&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1520" y="515" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-25" value="设置cluster的状态为&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;PgclusterStateBootstrapping&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1520" y="605" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-26" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=-0.017;entryY=0.663;entryDx=0;entryDy=0;entryPerimeter=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-16" target="WuodhJGJsOka3TGEAUCe-17" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1290" y="661" as="sourcePoint" />
            <mxPoint x="1380" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-27" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=-0.033;entryY=0.625;entryDx=0;entryDy=0;entryPerimeter=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-20" target="WuodhJGJsOka3TGEAUCe-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1330" y="530" as="sourcePoint" />
            <mxPoint x="1380" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-28" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;addClusterBootstrapJob&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1790" y="235" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-29" value="创建Bootstrap的Job Spec&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;getBootstrapJobFields&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1790" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-30" value="如果WAL stroragetype设置，&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;AddWALVolumeAndMountsToPostgreSQL&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1790" y="425" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-31" value="重置容器镜像" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1790" y="515" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-34" value="发送给kubeAPI创建Job" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1790" y="610" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-37" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-24" target="WuodhJGJsOka3TGEAUCe-28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1120" y="510" as="sourcePoint" />
            <mxPoint x="1170" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-38" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;getBootstrapJobFields&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2020" y="235" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-39" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;getClusterDeploymentFields&lt;/pre&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;准备BootstrapFiles&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2020" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-40" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;getClusterDeploymentFields&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2240" y="235" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-41" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-29" target="WuodhJGJsOka3TGEAUCe-38" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1910" y="430" as="sourcePoint" />
            <mxPoint x="1960" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-42" value="" style="endArrow=classic;html=1;strokeColor=#FF3333;" parent="Tet4A5Ykn7ojSv5wKa61-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2130" y="339.99554203661944" as="sourcePoint" />
            <mxPoint x="2248.9922052054385" y="290.84292023855016" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-43" value="获取restore opts参数&lt;br&gt;调整" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2020" y="425" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-44" value="判定源Cluster是否存在，及状态是否是shutdown" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2020" y="515" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-45" value="准备环境变量" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2020" y="610" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-46" value="如果是S3上恢复，准备S3环境变量" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2020" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-47" value="设置pgcluter的状态为&lt;br&gt;pgClusterStateProcessed" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="1025" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-48" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;clusterOperator.AddClusterBase&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1060" y="1135" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-49" value="AddClusterBase" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-52" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF3333;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-49" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1520" y="2271.6666666666665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-50" value="&lt;br&gt;&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;CreateMissingPostgreSQLVolumes&lt;br&gt;&lt;/span&gt;创建PVC" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-51" value="&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;addClusterCreateMissingService&lt;/span&gt;建Service" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1448" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-53" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;CreatePGHAConfigMap&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-54" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;annotateBackrestSecret&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-55" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;addClusterDeployments&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1725" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WuodhJGJsOka3TGEAUCe-56" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;ScaleClusterDeployments&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-2" value="EventClusterCreate&lt;br&gt;发送ClusterCreate事件" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="1910" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-3" value="spec.Replicas !=&quot;&quot;&lt;br&gt;创建replica" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="2000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-4" value="为每一个Replicas创建一个CRD，准备spec" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="2090" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-5" value="发送给KubeAPI创建" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1460" y="2190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-6" value="准备ClusterSpec的结构&lt;br&gt;IsInit = True" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="2240" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-8" value="&lt;div&gt;AddClusterBase为集群创建所有部署(以及各种其他支持)&lt;/div&gt;&lt;div&gt;资源，比如Service,ConfigMap,Secret等等)，但是将它们缩放为0。&lt;/div&gt;&lt;div&gt;这&lt;span&gt;确保在需要时存在所有部署，以正确编排初始化&lt;/span&gt;&lt;/div&gt;&lt;div&gt;cluster，例如，我们需要确保主DB部署资源已经创建在&lt;/div&gt;&lt;div&gt;使repo部署变成可用前，因为这将使主数据库变得可使用。&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="1330" y="1125" width="370" height="80" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-9" target="OV9-m6dmQ-1NdaY5KtbN-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-30" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="hlfeTQx6_Cnpnqpu5m7U-29">
          <mxGeometry x="-0.3102" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-9" value="判定cluster State ==&amp;nbsp;&lt;br&gt;&lt;span style=&quot;color: rgb(152 , 118 , 170) ; font-style: italic ; background-color: rgb(43 , 43 , 43) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;PgclusterStateBootstrapped&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="345" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-12" value="AddClusterBase" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-13" value="True" style="endArrow=classic;html=1;strokeColor=#FF3333;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-9" target="OV9-m6dmQ-1NdaY5KtbN-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="560" as="sourcePoint" />
            <mxPoint x="840" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-14" value="&lt;span&gt;需要shutdown？&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="585" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-15" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;ShutdownCluster&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-16" value="&lt;span&gt;需要startup？&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="780" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-17" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;StartupCluster&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=center;fillColor=#f8cecc;strokeColor=#b85450;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-18" value="&lt;span&gt;autofail 标记改变&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="970" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-21" value="&lt;font color=&quot;#000000&quot;&gt;修改autofail标记&lt;br&gt;ToogleAutoFailover&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=#dae8fc;align=center;strokeColor=#6c8ebf;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="1078" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-22" value="&lt;span&gt;Standby状态修改&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="1170" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-23" value="&lt;font color=&quot;#000000&quot;&gt;disable or enable&lt;br&gt;Standby&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=#d5e8d4;align=center;strokeColor=#82b366;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="1260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-24" value="&lt;span&gt;deepEqual查看其它字段是否&lt;br&gt;修改&lt;br&gt;如resource，limites等&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="1350" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-25" value="&lt;font color=&quot;#000000&quot;&gt;修改Resource&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="1440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-26" value="&lt;span&gt;deepEqual查看其它字段是否&lt;br&gt;修改&lt;br&gt;如pgbackrest resource，limites等&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="1525" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-27" value="&lt;font color=&quot;#000000&quot;&gt;修改pgbackrest Resource&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="1630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-28" value="&lt;span&gt;deepEqual查看其它字段是否&lt;br&gt;修改&lt;br&gt;如pgBancer等&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="1730" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-29" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;updatePgBouncer&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=#1ba1e2;fontColor=#ffffff;align=center;strokeColor=#006EAF;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="1850" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-30" value="&lt;span&gt;deepEqual查看其它字段是否&lt;br&gt;修改&lt;br&gt;如TablespaceMounts等&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="640" y="1940" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="OV9-m6dmQ-1NdaY5KtbN-31" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;updateTablespaces&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="660" y="2040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-3" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-48" target="WuodhJGJsOka3TGEAUCe-49" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="770" as="sourcePoint" />
            <mxPoint x="1010" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-4" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;ShutdownCluster&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-5" value="获取Primary Pod列表，获取Pod【0】" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="655" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-6" value="Updatepgcluster，修改cluster的annotation" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-8" value="ToggleAutoFailover，关闭autofail" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-9" value="&lt;p style=&quot;line-height: 30%&quot;&gt;&lt;/p&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;ScaleClusterDeployments &lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;replicas=0&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;修改相关Deployment的replicas数&lt;/font&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-10" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-15" target="0Dtra9Rd_sB84bFZ9sfG-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="890" as="sourcePoint" />
            <mxPoint x="330" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-11" value="&lt;font color=&quot;#000000&quot;&gt;ToogleAutoFailover&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=#dae8fc;align=center;strokeColor=#6c8ebf;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="1370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-12" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-21" target="0Dtra9Rd_sB84bFZ9sfG-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="1060" as="sourcePoint" />
            <mxPoint x="420" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-13" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;StartupCluster&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=center;fillColor=#f8cecc;strokeColor=#b85450;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-14" value="&lt;font color=&quot;#000000&quot;&gt;ToogleAutoFailover&lt;br&gt;autofailover=true&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="1138" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-15" value="&lt;p style=&quot;line-height: 30%&quot;&gt;&lt;/p&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;ScaleClusterDeployments &lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;replicas=1&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;menlo&amp;#34; ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;修改相关Deployment的replicas数&lt;/font&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="1220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-16" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-17" target="0Dtra9Rd_sB84bFZ9sfG-13" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="1030" as="sourcePoint" />
            <mxPoint x="420" y="980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-18" value="&lt;font color=&quot;#000000&quot;&gt;修改 pghaScope+&quot;-config&quot; 的CM，修改annotation里面的config的 json，pause值&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="250" y="1460" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-20" value="&lt;font color=&quot;#000000&quot;&gt;DisableStandby&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=#d5e8d4;align=center;strokeColor=#82b366;" parent="Tet4A5Ykn7ojSv5wKa61-1" vertex="1">
          <mxGeometry x="-160" y="1600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-22" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;updatePgBouncer&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=#1ba1e2;fontColor=#ffffff;align=center;strokeColor=#006EAF;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="250" y="1800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-5" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;publishStandbyDisable&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-160" y="1775" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-23" value="&lt;font color=&quot;#000000&quot;&gt;newer.Enable()?&lt;br&gt;operator.AddPgbouncer&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="250" y="2005" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-7" value="Standby集群由patroni工具实现参考：https://github.com/zalando/patroni/blob/master/docs/replica_bootstrap.rst" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-100" y="1570" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-24" value="&lt;font color=&quot;#000000&quot;&gt;!newer.Enable()&lt;br&gt;operator.DeletePgbouncer&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="250" y="2090" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-9" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-20" target="hlfeTQx6_Cnpnqpu5m7U-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-240" y="1790" as="sourcePoint" />
            <mxPoint x="-190" y="1740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-25" value="&lt;font color=&quot;#000000&quot;&gt;operator.UpdatePgbouncer&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="250" y="2200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-10" value="&lt;span style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;修改pgha_scope的configMap以及dcs&lt;/span&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-160" y="1690" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-26" value="older.pgBouncerEnable!=&lt;br&gt;newer.pgBouncerEnable" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#000000;fontSize=15;fontColor=none;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="180" y="1890" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-12" value="&lt;span&gt;EnableStandby&amp;nbsp;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="1942.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-27" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-26" target="0Dtra9Rd_sB84bFZ9sfG-23">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="2070" as="sourcePoint" />
            <mxPoint x="360" y="2020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-29" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;fontColor=none;" connectable="0" vertex="1" parent="0Dtra9Rd_sB84bFZ9sfG-27">
          <mxGeometry x="-0.4095" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-13" value="检查cluster是否shutdown，不是则无法恢复，返回错误" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2025" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-30" value="return" style="ellipse;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#000000;fontSize=15;fontColor=none;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="450" y="2007" width="80" height="55" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-14" value="&amp;nbsp;删除Primary和BackrestRepo的PVC然后重建" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-31" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-23" target="0Dtra9Rd_sB84bFZ9sfG-30">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="2070" as="sourcePoint" />
            <mxPoint x="360" y="2020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-15" value="return err" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-340" y="2030" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-34" value="&lt;font color=&quot;#000000&quot;&gt;AddPgbouncer&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="60" y="1970" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-16" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="hlfeTQx6_Cnpnqpu5m7U-13" target="hlfeTQx6_Cnpnqpu5m7U-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="2100" as="sourcePoint" />
            <mxPoint x="430" y="2050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-35" value="&lt;font color=&quot;#000000&quot;&gt;创建pgbouncer的Secret&lt;br&gt;Deployment&lt;br&gt;Service&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="60" y="2050" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-17" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955&quot;&gt;//&amp;nbsp;Now&amp;nbsp;find&amp;nbsp;the&amp;nbsp;existing&amp;nbsp;PVCs&amp;nbsp;for&amp;nbsp;the&amp;nbsp;primary&amp;nbsp;and&amp;nbsp;backrest&amp;nbsp;repo&amp;nbsp;and&amp;nbsp;delete&amp;nbsp;them.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6a9955&quot;&gt;//&amp;nbsp;These&amp;nbsp;should&amp;nbsp;be&amp;nbsp;the&amp;nbsp;only&amp;nbsp;remaining&amp;nbsp;PVCs&amp;nbsp;for&amp;nbsp;the&amp;nbsp;cluster&amp;nbsp;since&amp;nbsp;all&amp;nbsp;replica&amp;nbsp;PVCs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6a9955&quot;&gt;//&amp;nbsp;were&amp;nbsp;deleted&amp;nbsp;when&amp;nbsp;scaling&amp;nbsp;down&amp;nbsp;the&amp;nbsp;cluster&amp;nbsp;in&amp;nbsp;order&amp;nbsp;to&amp;nbsp;shut&amp;nbsp;down&amp;nbsp;the&amp;nbsp;database.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-360" y="2110" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-36" value="&lt;font color=&quot;#000000&quot;&gt;发布pgbouncer 创建的Event事件&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="60" y="2150" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-37" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" target="0Dtra9Rd_sB84bFZ9sfG-34">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="2037" as="sourcePoint" />
            <mxPoint x="360" y="2100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-20" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6a9955&quot;&gt;//&amp;nbsp;find&amp;nbsp;the&amp;nbsp;&quot;config&quot;&amp;nbsp;configMap&amp;nbsp;created&amp;nbsp;by&amp;nbsp;Patroni如：&lt;/span&gt;&lt;/div&gt;&lt;font color=&quot;#6a9955&quot; face=&quot;consolas, courier new, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px&quot;&gt;hippo-standby2-config&lt;/span&gt;&lt;/font&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9cdcfe&quot;&gt;standbyClusterConfigJSON&lt;/span&gt;&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;color: #ce9178&quot;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;create_replica_methods&quot;:&amp;nbsp;[&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;pgbackrest_standby&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;restore_command&quot;:&amp;nbsp;&quot;source&amp;nbsp;/opt/cpm/bin/pgbackrest/pgbackrest-set-env.sh&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;pgbackrest&amp;nbsp;archive-get&amp;nbsp;%f&amp;nbsp;\&quot;%p\&quot;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;}`&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-460" y="2270" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-38" value="&lt;font color=&quot;#000000&quot;&gt;DeletePgbouncer&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="60" y="2250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-22" value="&lt;span&gt;删除leader ConfigMap&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-39" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.017;entryY=0.603;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-24" target="0Dtra9Rd_sB84bFZ9sfG-38">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="2150" as="sourcePoint" />
            <mxPoint x="360" y="2100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-40" value="&lt;font color=&quot;#000000&quot;&gt;删除pgbouncer的Secret&lt;br&gt;Deployment&lt;br&gt;Service&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="60" y="2340" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-24" value="&lt;font style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;更新 -pgha-config.data 里面-dcs-config&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;&amp;nbsp;相关部分信息&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2530" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-41" value="&lt;font color=&quot;#000000&quot;&gt;发布pgbouncer 删除的Event事件&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="60" y="2450" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-25" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;publishStandbyEnable&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-44" value="&lt;font color=&quot;#000000&quot;&gt;UpdatePgbouncer&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="430" y="2250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-27" value="核心实现需要理解Patroni文档" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-200" y="1910" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-45" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=1.01;exitY=0.626;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-25" target="0Dtra9Rd_sB84bFZ9sfG-44">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="2250" as="sourcePoint" />
            <mxPoint x="390" y="2200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-28" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="659" y="1288" as="sourcePoint" />
            <mxPoint x="-31" y="1970.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="529" y="1288" />
              <mxPoint x="529" y="1638" />
              <mxPoint x="39" y="1638" />
              <mxPoint x="39" y="1970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-46" value="&lt;font color=&quot;#000000&quot;&gt;updatePgbouncerReplicas&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="430" y="2340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-47" value="&lt;font color=&quot;#000000&quot;&gt;updatePgbouncerResources&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="430" y="2430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-48" value="&lt;font color=&quot;#000000&quot;&gt;发布pgbouncer&amp;nbsp; update的Event事件&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="430" y="2520" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-18" value="找到的dcsConfigMap，修改里面&lt;span style=&quot;color: rgb(206 , 145 , 120) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;standby_cluster字段信息&lt;/span&gt;&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26amp%3Bnbsp%3B%E5%88%A0%E9%99%A4Primary%E5%92%8CBackrestRepo%E7%9A%84PVC%E7%84%B6%E5%90%8E%E9%87%8D%E5%BB%BA%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22250%22%20y%3D%222160%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-49" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="hlfeTQx6_Cnpnqpu5m7U-12" target="hlfeTQx6_Cnpnqpu5m7U-18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-90.00000000000045" y="2002.5" as="sourcePoint" />
            <mxPoint x="-90.00000000000045" y="2730.0000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-23" value="&lt;span&gt;修改CM *-pgha-config里面replica-bootstrap-repo-type 字段为s3，确保用s3来创建standby&lt;br&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bspan%26gt%3B%E5%88%A0%E9%99%A4leader%20ConfigMap%26lt%3B%2Fspan%26gt%3B%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22250%22%20y%3D%222340%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="-150" y="2400" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-51" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="hlfeTQx6_Cnpnqpu5m7U-18" target="hlfeTQx6_Cnpnqpu5m7U-23">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-90" y="2350" as="sourcePoint" />
            <mxPoint x="-90" y="2730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-54" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-29" target="0Dtra9Rd_sB84bFZ9sfG-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="440" y="2370" as="sourcePoint" />
            <mxPoint x="490" y="2320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0Dtra9Rd_sB84bFZ9sfG-55" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontSize=15;fontColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="0Dtra9Rd_sB84bFZ9sfG-22" target="0Dtra9Rd_sB84bFZ9sfG-26">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="2250" as="sourcePoint" />
            <mxPoint x="550" y="2200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-32" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;updateAnnotations&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="660" y="2270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-33" value="&lt;span&gt;deepEqual查看其它字段是否&lt;br&gt;修改&lt;br&gt;如Annotation等&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="640" y="2152.5" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-34" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;updateTablespaces&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2080" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-35" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="OV9-m6dmQ-1NdaY5KtbN-31" target="hlfeTQx6_Cnpnqpu5m7U-34">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="2160" as="sourcePoint" />
            <mxPoint x="920" y="2110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-36" value="&lt;font color=&quot;#000000&quot;&gt;newCluster和olderCluster对比找出新增的tableSpace的信息&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-37" value="&lt;font color=&quot;#000000&quot;&gt;operator.UpdateTablespaces&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-39" value="&lt;font color=&quot;#000000&quot;&gt;UpdateTablespaces&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeWidth=1;fillColor=none;gradientColor=none;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-41" value="&lt;div style=&quot;background-color: rgb(30, 30, 30); font-family: consolas, &amp;quot;courier new&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;//&amp;nbsp;UpdateTablespaces&amp;nbsp;updates&amp;nbsp;the&amp;nbsp;PostgreSQL&amp;nbsp;instance&amp;nbsp;Deployments&amp;nbsp;to&amp;nbsp;update&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;//&amp;nbsp;what&amp;nbsp;tablespaces&amp;nbsp;are&amp;nbsp;mounted.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FFFFFF;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="760" y="2340" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-42" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;GetInstanceDeployments&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FFFFFF;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-43" value="为每个deployment添加新的tablespace创建pvc&lt;br&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;pvc.&lt;span style=&quot;color: #dcdcaa&quot;&gt;CreateIfNotExists&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-44" value="修改每个deployment的0号容器database的volume信息" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-45" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;stopPostgreSQLInstance&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2770" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-46" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;KubeApi&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;Update Deployment&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="910" y="2870" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-47" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontColor=#000000;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="940" y="2950" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-48" value="util.&lt;span style=&quot;color: rgb(220 , 220 , 170) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;StopPostgreSQLInstance&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="680" y="2770" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-49" value="通过kubeapi.exec到容器里面执行命令" style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="680" y="2860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-50" value="" style="endArrow=classic;html=1;fontColor=#000000;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="hlfeTQx6_Cnpnqpu5m7U-45" target="hlfeTQx6_Cnpnqpu5m7U-48">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="2970" as="sourcePoint" />
            <mxPoint x="920" y="2920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-51" value="判定处于completed 或 Bootstrapping状态则推出不处理" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="1060" y="575" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-52" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;addIdentifier&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="1060" y="650" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="hlfeTQx6_Cnpnqpu5m7U-54" value="Y" style="endArrow=classic;html=1;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-15" target="WuodhJGJsOka3TGEAUCe-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1230" y="690" as="sourcePoint" />
            <mxPoint x="1280" y="640" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1120" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XMR8rtMzUx9ApkxdVtbs-2" value="" style="endArrow=classic;html=1;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-16" target="WuodhJGJsOka3TGEAUCe-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1160" y="950" as="sourcePoint" />
            <mxPoint x="1210" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XMR8rtMzUx9ApkxdVtbs-3" value="" style="endArrow=classic;html=1;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Tet4A5Ykn7ojSv5wKa61-1" source="WuodhJGJsOka3TGEAUCe-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1160" y="950" as="sourcePoint" />
            <mxPoint x="1120" y="1220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XMR8rtMzUx9ApkxdVtbs-4" value="return" style="ellipse;whiteSpace=wrap;html=1;fontColor=#000000;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="1082.5" y="1220" width="75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XMR8rtMzUx9ApkxdVtbs-5" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontColor=#000000;align=center;" vertex="1" parent="Tet4A5Ykn7ojSv5wKa61-1">
          <mxGeometry x="1490" y="2270" width="60" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="DfO7OO4ywRAmhcDevog4" name="pgreplica Operator">
    <mxGraphModel dx="1418" dy="786" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="mUrVFgba5sf7J21noUTQ-0" />
        <mxCell id="mUrVFgba5sf7J21noUTQ-1" parent="mUrVFgba5sf7J21noUTQ-0" />
        <mxCell id="_7EaxUCzknMLurAeMBWq-0" value="获取Replica，查看状态如果为 processed不处理" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="250" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_7EaxUCzknMLurAeMBWq-1" value="将Replicas obj放入队列" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="250" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_7EaxUCzknMLurAeMBWq-2" value="onAdd" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="250" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_7EaxUCzknMLurAeMBWq-3" value="onDelete" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="450" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XQ4_ay6HoJbuj6jF-wA3-0" value="onUpdate" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="660" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XQ4_ay6HoJbuj6jF-wA3-1" value="RunWorker" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="850" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="XQ4_ay6HoJbuj6jF-wA3-2" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;processNextItem&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;" parent="mUrVFgba5sf7J21noUTQ-1" vertex="1">
          <mxGeometry x="1060" y="230" width="120" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="F1ze-gBwSKeawxmxo4Qc" name="pgtask Operator">
    <mxGraphModel dx="1668" dy="925" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="qcJI7E0Aq2EKTSZtyW2Y-0" />
        <mxCell id="qcJI7E0Aq2EKTSZtyW2Y-1" parent="qcJI7E0Aq2EKTSZtyW2Y-0" />
        <mxCell id="lpakV_ToNmtd2w5FKSgh-11" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;dashed=1;strokeColor=#b85450;fillColor=#f8cecc;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1020" y="340" width="630" height="420" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-10" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#FF0000;" edge="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1" source="lpakV_ToNmtd2w5FKSgh-5" target="lpakV_ToNmtd2w5FKSgh-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1430" y="610" as="sourcePoint" />
            <mxPoint x="1510" y="810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-0" value="获取task，查看状态如果为 processed不处理" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="250" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-1" value="将task obj放入队列" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="250" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-2" value="onAdd" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="250" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-3" value="onDelete" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="450" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-4" value="onUpdate" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="660" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-5" value="RunWorker" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="850" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="3ye-nWwi0U054c5yJO7_-6" value="&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;&lt;span style=&quot;&quot;&gt;processNextItem&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" parent="qcJI7E0Aq2EKTSZtyW2Y-1" vertex="1">
          <mxGeometry x="1060" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-0" value="CheckTask Duplicate&lt;br&gt;and skip" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1270" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-1" value="&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;taskoperator.RemoveData&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1270" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-2" value="&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;crv1.&lt;span style=&quot;font-style: italic;&quot;&gt;PgtaskDeleteData&lt;/span&gt;&lt;/pre&gt;" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1080" y="380" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-3" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;" edge="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1" source="3ye-nWwi0U054c5yJO7_-6" target="lpakV_ToNmtd2w5FKSgh-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1100" y="510" as="sourcePoint" />
            <mxPoint x="1150" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-4" value="Yes" style="endArrow=classic;html=1;entryX=0;entryY=0.117;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=#FFFFFF;" edge="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1" source="lpakV_ToNmtd2w5FKSgh-2" target="lpakV_ToNmtd2w5FKSgh-0">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1100" y="510" as="sourcePoint" />
            <mxPoint x="1150" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-5" value="&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;RemoveData&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1480" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-6" value="&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;menlo&amp;quot; ; font-size: 9pt&quot;&gt;PatchpgtaskDeleteDataStatus&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1480" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-7" value="创建Job来remove data" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1480" y="585" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-8" value="&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;publishDeleteCluster&lt;/pre&gt;&lt;pre style=&quot;font-family: menlo; font-size: 9pt;&quot;&gt;发送EventDeleteCluster消息&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;labelBorderColor=#000000;" vertex="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1">
          <mxGeometry x="1480" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lpakV_ToNmtd2w5FKSgh-9" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;fontColor=#FF0000;strokeColor=#FF0000;" edge="1" parent="qcJI7E0Aq2EKTSZtyW2Y-1" source="lpakV_ToNmtd2w5FKSgh-1" target="lpakV_ToNmtd2w5FKSgh-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1430" y="610" as="sourcePoint" />
            <mxPoint x="1480" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="1wsVWBvf2OMwq2McIXJo" name="Operater ansible installer">
    <mxGraphModel dx="1418" dy="786" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="2_bX3AumPz9R5QfefKsD-0" />
        <mxCell id="2_bX3AumPz9R5QfefKsD-1" parent="2_bX3AumPz9R5QfefKsD-0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="b-SqA7Wx7fL02CaDULjZ" name="jobController">
    <mxGraphModel dx="2363" dy="1310" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="iMy7SZl4hCXhZ_G81ovo-0" />
        <mxCell id="iMy7SZl4hCXhZ_G81ovo-1" parent="iMy7SZl4hCXhZ_G81ovo-0" />
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-70" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-4" target="Ic3XdyH0V-WVmgo7VTaO-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1400" y="370" as="sourcePoint" />
            <mxPoint x="1460" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-69" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-51" target="Ic3XdyH0V-WVmgo7VTaO-66">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1580" y="1960" as="sourcePoint" />
            <mxPoint x="1480" y="2282" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-48" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1260" y="1175" as="sourcePoint" />
            <mxPoint x="1930" y="975" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-42" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-36" target="Ic3XdyH0V-WVmgo7VTaO-41">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="1490" as="sourcePoint" />
            <mxPoint x="1590" y="1440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-44" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="Ic3XdyH0V-WVmgo7VTaO-42">
          <mxGeometry x="-0.8852" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PUkJfZJdUHT1PMtPgLOj-0" value="onAdd" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="250" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="PUkJfZJdUHT1PMtPgLOj-1" value="onDelete" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="500" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="PUkJfZJdUHT1PMtPgLOj-2" value="onUpdate" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-0" value="判定是否是LABEL_VENDOR=crunchydata" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="250" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-3" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="270" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-6" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="PUkJfZJdUHT1PMtPgLOj-0" target="P13-VXwSB8W-PZeoCBbI-0">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="390" as="sourcePoint" />
            <mxPoint x="520" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-7" value="判定是否是LABEL_VENDOR=crunchydata" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-8" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="730" y="330" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-9" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-7" target="P13-VXwSB8W-PZeoCBbI-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="890" y="490" as="sourcePoint" />
            <mxPoint x="940" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-10" value="不是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-9">
          <mxGeometry x="-0.1538" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-11" value="判定是否是LABEL_RMDATA=true" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-12" value="判定是否是LABEL_BACKREST_RESTORE=true" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-11" target="P13-VXwSB8W-PZeoCBbI-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-17" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-16">
          <mxGeometry x="-0.0435" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-13" value="&lt;font color=&quot;#ff3333&quot;&gt;handleRMDataUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#b85450;fillColor=#f8cecc;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-14" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-11" target="P13-VXwSB8W-PZeoCBbI-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="500" as="sourcePoint" />
            <mxPoint x="750" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-15" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-14">
          <mxGeometry x="-0.3143" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-18" value="&lt;font color=&quot;#ff3333&quot;&gt;handleBackrestUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#d6b656;fillColor=#fff2cc;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-19" value="判定是否是LABEL_BACKUP_TYPE_PGDUMP=true" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-20" value="&lt;font color=&quot;#ff3333&quot;&gt;handlePGDumpUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-21" value="判定是否是LABEL_RESTORE_TYPE_PGRESTORE=true" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1030" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-22" value="&lt;font color=&quot;#ff3333&quot;&gt;handlePGRestoreUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#82b366;fillColor=#d5e8d4;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-23" value="判定是否是LABEL_PGO_LOAD=true" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-24" value="&lt;font color=&quot;#ff3333&quot;&gt;handleLoadUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#2D7600;fillColor=#60a917;fontColor=#ffffff;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-25" value="判定是否是LABEL_PGO_CLONE_STEP_1=true" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-26" value="&lt;font color=&quot;#ff3333&quot;&gt;handleRepoSyncUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#006EAF;fillColor=#1ba1e2;fontColor=#ffffff;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-27" value="判定是否是LABEL_PGHA_BOOTSTRAP" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-28" value="&lt;font color=&quot;#ff3333&quot;&gt;handleBootstrapUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#FF0000;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="880" y="1770" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-33" value="是记录信息" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="250" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-35" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-0" target="P13-VXwSB8W-PZeoCBbI-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="690" y="390" as="sourcePoint" />
            <mxPoint x="740" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-36" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-35">
          <mxGeometry x="-0.15" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-0" target="P13-VXwSB8W-PZeoCBbI-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="370" as="sourcePoint" />
            <mxPoint x="220" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-38" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-37">
          <mxGeometry x="-0.0435" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-44" value="判定是否是LABEL_VENDOR=crunchydata" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="510" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-45" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="530" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-46" value="是记录信息" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="510" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-47" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-44" target="P13-VXwSB8W-PZeoCBbI-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="390" as="sourcePoint" />
            <mxPoint x="1000" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-48" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-47">
          <mxGeometry x="-0.15" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-44" target="P13-VXwSB8W-PZeoCBbI-45">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="370" as="sourcePoint" />
            <mxPoint x="480" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-50" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-49">
          <mxGeometry x="-0.0435" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-51" value="&lt;font color=&quot;#ff3333&quot;&gt;handleRMDataUpdate&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#b85450;fillColor=#f8cecc;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-52" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-13" target="P13-VXwSB8W-PZeoCBbI-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="540" as="sourcePoint" />
            <mxPoint x="850" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-53" value="获取job的labels" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-54" value="判定job是否successful" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-55" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1310" y="410" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-56" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-54" target="P13-VXwSB8W-PZeoCBbI-55">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="470" as="sourcePoint" />
            <mxPoint x="1190" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-57" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-56">
          <mxGeometry x="-0.15" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-58" value="发送DeleteClusterComplete的event" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-59" value="删除Job，循环等待 10次*5秒&lt;br&gt;参数：Foreground" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-60" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.58" y="480" as="sourcePoint" />
            <mxPoint x="1189.58" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-61" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="P13-VXwSB8W-PZeoCBbI-60">
          <mxGeometry x="-0.15" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-62" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="P13-VXwSB8W-PZeoCBbI-58" target="P13-VXwSB8W-PZeoCBbI-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="480" as="sourcePoint" />
            <mxPoint x="1190" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-63" value="删除可能存在的pvc&lt;br&gt;clusterName+“-xlog”" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-64" value="获取cluster相关的completed的job列表，循环清理" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1130" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-65" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1150" y="890" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-66" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.58" y="680" as="sourcePoint" />
            <mxPoint x="1189.58" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-67" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.58" y="770" as="sourcePoint" />
            <mxPoint x="1189.58" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-68" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.58" y="860" as="sourcePoint" />
            <mxPoint x="1189.58" y="890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-69" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.58" y="390" as="sourcePoint" />
            <mxPoint x="1189.58" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P13-VXwSB8W-PZeoCBbI-70" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1189.58" y="300" as="sourcePoint" />
            <mxPoint x="1189.58" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-3" value="&lt;h1&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;具体负责执行删除的动作在rm的job的容器里面的pgo-rmdata&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1270" y="240" width="190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-4" value="pgo-rmdata" style="ellipse;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1500" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-6" value="获取参数" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1500" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-7" value="设置log开关" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1500" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-8" value="rmdata.Delete" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1500" y="520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-9" value="Delete" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-10" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-8" target="Ic3XdyH0V-WVmgo7VTaO-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="490" as="sourcePoint" />
            <mxPoint x="1090" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-11" target="Ic3XdyH0V-WVmgo7VTaO-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-20" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="Ic3XdyH0V-WVmgo7VTaO-18">
          <mxGeometry x="0.106" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-11" value="判定是否是 IsReplica，是否是IsBackup" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-12" value="关闭Cluster上的autofailover" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-13" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-11" target="Ic3XdyH0V-WVmgo7VTaO-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="490" as="sourcePoint" />
            <mxPoint x="1090" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-14" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="Ic3XdyH0V-WVmgo7VTaO-13">
          <mxGeometry x="-0.15" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-16" target="Ic3XdyH0V-WVmgo7VTaO-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-39" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="Ic3XdyH0V-WVmgo7VTaO-37">
          <mxGeometry x="0.5097" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-16" value="IsReplica" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-17" value="removeReplicaServices" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-19" value="Y" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-16" target="Ic3XdyH0V-WVmgo7VTaO-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="500" as="sourcePoint" />
            <mxPoint x="1090" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-21" value="getRepicaPVC&lt;br&gt;获取Replicas的PVC" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-22" value="Deletepgreplica&lt;br&gt;删除pgreplicaCRD" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-23" value="removeReplica" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-24" value="是否删除Data&lt;br&gt;RemoveData" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-25" value="删除PVC List&lt;br&gt;removePVC&lt;br&gt;参数：Foreground" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-26" value="Y" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-24" target="Ic3XdyH0V-WVmgo7VTaO-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="770" as="sourcePoint" />
            <mxPoint x="1090" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-27" value="removeReplica" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1870" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-28" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" target="Ic3XdyH0V-WVmgo7VTaO-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1800" y="1040" as="sourcePoint" />
            <mxPoint x="1850" y="990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-29" value="删除Deployment，循环等待 16次*4秒&lt;br&gt;参数：Foreground" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1870" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-30" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-27" target="Ic3XdyH0V-WVmgo7VTaO-29">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="760" as="sourcePoint" />
            <mxPoint x="1090" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-32" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1890" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-33" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-29" target="Ic3XdyH0V-WVmgo7VTaO-32">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1440" y="760" as="sourcePoint" />
            <mxPoint x="1490" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-34" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1700" y="1320" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-35" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-25" target="Ic3XdyH0V-WVmgo7VTaO-34">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1440" y="1010" as="sourcePoint" />
            <mxPoint x="1490" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-36" target="Ic3XdyH0V-WVmgo7VTaO-51">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1820" y="1480" />
              <mxPoint x="1820" y="1870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-53" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="Ic3XdyH0V-WVmgo7VTaO-52">
          <mxGeometry x="-0.2897" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-36" value="IsBackup&lt;br&gt;backup-type=pgdump" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-38" value="removeBackupJobs" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-40" value="removeLogicalBackupPVC&lt;br&gt;删除pgdump 的pvc" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-41" value="return" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;labelBackgroundColor=#FFFFFF;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1700" y="1720" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-45" value="removeBackupJobs" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1870" y="725" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-46" value="通过lable筛选出备份的job，pgdump or backrest" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1870" y="805" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-47" value="循环删除，16次*4s&lt;br&gt;参数：Foreground" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1870" y="895" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-49" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=#000000;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-38" target="Ic3XdyH0V-WVmgo7VTaO-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="1550" as="sourcePoint" />
            <mxPoint x="1590" y="1500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-51" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;removeSchedules&lt;/pre&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;删除Scheduler相关的ConfigMap&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1840" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-54" value="如果RomoveData，&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;removeUserSecrets&lt;/font&gt;&lt;br&gt;pgo_backrest_repo的secret除外" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="1940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-55" value="removeCluster&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;Deletepgcluster&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-56" value="removeService" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-57" value="removeAddons&lt;br&gt;Delete pgbouncer的Deployment及service" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-58" value="removePgreplicas" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-59" value="removePgtasks" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-60" value="removeClusterConfigmaps&lt;br&gt;删除4个configmap&lt;br&gt;pgha-config&lt;br&gt;leader&lt;br&gt;config&lt;br&gt;failover" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2460" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-61" value="removeData？Y&lt;br&gt;getInstancePVC list，&lt;br&gt;删除PVC" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-62" value="reomoveBackupJobs&lt;br&gt;Job selector：backrest+pgdump" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-63" value="removeBackupRepo&lt;br&gt;删除backrest-shared-repo的&lt;br&gt;Deployment" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-64" value="removeBackupSecrets&lt;br&gt;删除backu相关的secret&lt;br&gt;backrest-repo-config" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="2970" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-65" value="removeAllBackupPVCs&lt;br&gt;pgDumpPVC&lt;br&gt;pgBackRestRepoPVC" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1680" y="3060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-66">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1750" y="3200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1648" y="2900" />
              <mxPoint x="1648" y="3140" />
              <mxPoint x="1750" y="3140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-66" value="RemoveBackup" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#000000;fontColor=none;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1667.5" y="2860" width="145" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-67" value="Y" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-66" target="Ic3XdyH0V-WVmgo7VTaO-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1760" y="2820" as="sourcePoint" />
            <mxPoint x="1810" y="2770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-71" value="removeCluster&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9.0pt&quot;&gt;Deletepgcluster&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1880" y="1740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-72" value="删除Deployment，循环等待 16次*4秒&lt;br&gt;参数：Foreground" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="iMy7SZl4hCXhZ_G81ovo-1">
          <mxGeometry x="1880" y="1830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-73" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-71" target="Ic3XdyH0V-WVmgo7VTaO-72">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1870" y="1800" as="sourcePoint" />
            <mxPoint x="1920" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ic3XdyH0V-WVmgo7VTaO-74" value="" style="endArrow=classic;html=1;labelBackgroundColor=#FFFFFF;strokeColor=#FF0000;fontColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.017;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="iMy7SZl4hCXhZ_G81ovo-1" source="Ic3XdyH0V-WVmgo7VTaO-55" target="Ic3XdyH0V-WVmgo7VTaO-71">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1870" y="1940" as="sourcePoint" />
            <mxPoint x="1920" y="1890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
